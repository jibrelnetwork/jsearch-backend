swagger: '2.0'
info:
  description: jSearch - Ethereum blockexplorer API
  version: 1.0.0
  title: jSearch API
  # put the contact info for your development or API team
  contact:
    email: dev@jibrel.network

  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html

# # tags are used for organizing operations
# tags:
# - name: admins
#   description: Secured Admin-only calls
# - name: developers
#   description: Operations available to regular developers
  
parameters:
  address:
    name: address
    in: path
    required: true
    description: Account address
    type: string
    format: address
  contract_address:
    name: address
    in: path
    required: true
    description: Contract address
    type: string
    format: address
  tag:
    name: tag
    in: path
    required: true
    description: block hash, block number or "latest" keyword
    type: string
  txhash:
    name: txhash
    in: path
    required: true
    description: transaction hash
    type: string
  limit:
    name: limit
    in: query
    description: Number of items returned in response
    type: integer
    default: 20
  offset:
    name: offset
    in: query
    description: Query offset
    type: integer
    default: 0
  order:
    name: order
    in: query
    description: Items ordering direction
    schema:
      type: string
      enum: [asc, desc]
    default: asc
    
paths:

  /v1/accounts/balances:
    get:
      operationId: getBalancesForMultiAddresses
      description: |
        Get balances for multiple addresses in single call
      produces:
      - application/json
      parameters:
      - in: query
        name: addresses
        type: string
        description: Comma separated list of addresses
      responses:
        200:
          description: List of balances
          schema:
            type: array
            items:
              $ref: '#/definitions/Balance'
        400:
          description: bad input parameter
    
  /v1/accounts/{address}:
    get:
      operationId: getAccount
      description: |
        Get account state by address
      produces:
      - application/json
      parameters:
      - $ref: '#/parameters/address'
        description: Account address
      - $ref: '#/parameters/tag'
      responses:
        200:
          description: Account object
          schema:
            $ref: '#/definitions/Account'
        400:
          description: bad input parameter
  
  /v1/accounts/{address}/transactions:
    get:
      operationId: getAccountTransactions
      description: |
        Get account transactions
      produces:
      - application/json
      parameters:
      - $ref: '#/parameters/address'
      - $ref: '#/parameters/tag'
      - $ref: '#/parameters/limit'
      - $ref: '#/parameters/offset'
      responses:
        200:
          description: transactions for specific address
          schema:
            type: array
            items:
              $ref: '#/definitions/Transaction'
        400:
          description: bad input parameter
          
  /v1/accounts/{address}/mined_blocks:
    get:
      operationId: getAccountMinedBlocks
      description: |
        Get blocks mined by address
      produces:
      - application/json
      parameters:
      - $ref: '#/parameters/address'
      - $ref: '#/parameters/limit'
      - $ref: '#/parameters/offset'
      - $ref: '#/parameters/order'
      responses:
        200:
          description: blocks mined by specific address
          schema:
            type: array
            items:
              $ref: '#/definitions/Block'
        400:
          description: bad input parameter
          
  /v1/accounts/{address}/mined_uncles:
    get:
      operationId: getAccountMinedUncles
      description: |
        Get uncles mined by address
      produces:
      - application/json
      parameters:
      - $ref: '#/parameters/address'
      - $ref: '#/parameters/limit'
      - $ref: '#/parameters/offset'
      - $ref: '#/parameters/order'
      responses:
        200:
          description: uncles mined by specific address
          schema:
            type: array
            items:
              $ref: '#/definitions/Uncle'
        400:
          description: bad input parameter

  /v1/accounts/{address}/token_transfers:
    get:
      operationId: getAccountTokenTransfers
      description: |
        Get tokens transfered to or from this address
      produces:
      - application/json
      parameters:
      - $ref: '#/parameters/address'
      - $ref: '#/parameters/limit'
      - $ref: '#/parameters/offset'
      - $ref: '#/parameters/order'
      responses:
        200:
          description: tokens transfered to or from specific address
          schema:
            type: array
            items:
              $ref: '#/definitions/TokenTransfer'
        400:
          description: bad input parameter
          
  /v1/blocks:
    get:
      operationId: getBlockList
      description: |
        Get blocks list
      produces:
      - application/json
      parameters:
      - $ref: '#/parameters/limit'
      - $ref: '#/parameters/offset'
      responses:
        200:
          description: blocks list
          schema:
            type: array
            items:
              $ref: '#/definitions/Block'
        400:
          description: bad input parameter
          
  /v1/blocks/{tag}:
    get:
      operationId: getBlock
      description: |
        Get block by hash or number
      produces:
      - application/json
      parameters:
      - $ref: '#/parameters/tag'
      responses:
        200:
          description: block
          schema:
            $ref: '#/definitions/Block'
        400:
          description: bad input parameter
          
  /v1/blocks/{tag}/transactions:
    get:
      operationId: getBlockTransactions
      description: |
        Get all transactions in block
      produces:
      - application/json
      parameters:
      - $ref: '#/parameters/tag'
      responses:
        200:
          description: transactions from specific block
          schema:
            type: array
            items:
              $ref: '#/definitions/Transaction'
        400:
          description: bad input parameter
          
  /v1/blocks/{tag}/uncles:
    get:
      operationId: getBlockUncles
      description: |
        Get all uncle blocks for specific block
      produces:
      - application/json
      parameters:
      - $ref: '#/parameters/tag'
      responses:
        200:
          description: uncles for specific block
          schema:
            type: array
            items:
              $ref: '#/definitions/Uncle'
        400:
          description: bad input parameter
          
  /v1/transactions/{txhash}:
    get:
      operationId: getTransaction
      description: |
        Get Transaction by hash
      produces:
      - application/json
      parameters:
        - $ref: '#/parameters/txhash'
      responses:
        200:
          description: transaction
          schema:
            $ref: '#/definitions/Transaction'
        400:
          description: bad input parameter
          
  /v1/receipts/{txhash}:
    get:
      operationId: getReceipt
      description: |
        Get Receipt by transaction hash
      produces:
      - application/json
      parameters:
        - $ref: '#/parameters/txhash'
      responses:
        200:
          description: transaction receipt
          schema:
            $ref: '#/definitions/Receipt'
        400:
          description: bad input parameter
          
  /v1/uncles:
    get:
      operationId: getUnclesList
      description: |
        Get uncles list
      produces:
      - application/json
      parameters:
      - $ref: '#/parameters/limit'
      - $ref: '#/parameters/offset'
      - $ref: '#/parameters/order'
      responses:
        200:
          description: uncles list
          schema:
            type: array
            items:
              $ref: '#/definitions/Uncle'
        400:
          description: bad input parameter

  /v1/uncles/{tag}:
    get:
      operationId: getUncle
      description: |
        Get uncle by hash or number
      produces:
      - application/json
      parameters:
      - $ref: '#/parameters/tag'
      responses:
        200:
          description: uncle
          schema:
            $ref: '#/definitions/Uncle'
        400:
          description: bad input parameter

  /v1/verified_contracts:
    get:
      operationId: getVerifiedContractsList
      description: |
        Get verified contracts list
      produces:
      - application/json
      parameters:
      - $ref: '#/parameters/limit'
      - $ref: '#/parameters/offset'
      - $ref: '#/parameters/order'
      responses:
        200:
          description: Contract
          schema:
            type: array
            items:
              $ref: '#/definitions/Contract'
        400:
          description: bad input parameter

  /v1/verified_contracts/{address}:
    get:
      operationId: getVerifiedContract
      description: |
        Get verified contract data
      produces:
      - application/json
      parameters:
      - $ref: '#/parameters/contract_address'
      responses:
        200:
          description: Contract
          schema:
            $ref: '#/definitions/Contract'
        404:
          description: Contract not found

  /v1/tokens:
    get:
      operationId: getTokensList
      description: |
        Get ERC20 tokens list
      produces:
      - application/json
      parameters:
      - $ref: '#/parameters/limit'
      - $ref: '#/parameters/offset'
      - $ref: '#/parameters/order'
      responses:
        200:
          description: Token
          schema:
            type: array
            items:
              $ref: '#/definitions/Token'
        400:
          description: bad input parameter

  /v1/tokens/{address}:
    get:
      operationId: getToken
      description: |
        Get token data
      produces:
      - application/json
      parameters:
      - $ref: '#/parameters/contract_address'
      responses:
        200:
          description: Token
          schema:
            $ref: '#/definitions/Token'
        404:
          description: Token not found

  /v1/tokens/{address}/transfers:
    get:
      operationId: getTokenTransfers
      description: |
        Get token transfers for specific token
      produces:
      - application/json
      parameters:
      - $ref: '#/parameters/contract_address'
      - $ref: '#/parameters/limit'
      - $ref: '#/parameters/offset'
      - $ref: '#/parameters/order'
      responses:
        200:
          description: token transfers
          schema:
            type: array
            items:
              $ref: '#/definitions/TokenTransfer'
        400:
          description: bad input parameter

  /v1/tokens/{address}/holders:
    get:
      operationId: getTokenHolders
      description: |
        Get token holders list for specific token
      produces:
      - application/json
      parameters:
      - $ref: '#/parameters/contract_address'
      - $ref: '#/parameters/limit'
      - $ref: '#/parameters/offset'
      - $ref: '#/parameters/order'
      responses:
        200:
          description: token holders list
          schema:
            type: array
            items:
              $ref: '#/definitions/TokenHolder'
        400:
          description: bad input parameter
      
definitions:

  Account:
    properties:
      blockNumber:
        type: integer
        example: 4087355
      blockHash:
        type: string
        format: hash
        example: "0x0e851d527ca5b1a8356a29d198c920f20da9af51edc084acaa0de481324d8f5d"
      address:
        type: string
        format: address
        example: "0xcd424c53f5dc7d22cdff536309c24ad87a97e6af"
      nonce:
        type: integer
        example: 976
      code:
        type: string
        example: ""
      codeHash:
        type: string
        format: hash
        example: "c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470"
      balance:
        type: string
        format: hex
        example: "0x3a844524342f0"
  
  Transaction:
    properties:
      blockHash:
        type: string
        format: hash
        example: "0x2f571cb815c2d94c8e48bf697799e545c368029e8b096a730ef5e650874fbbad"
      blockNumber:
        type: integer
        example: 119416
      from:
        type: string
        format: address
        example: "0x3a844524342f0"
      gas:
        type: string
        format: hex
        example: "0x61a8"
      gasPrice:
        type: string
        format: hex
        example: "0xba43b7400"
      hash:
        type: string
        format: hash
        example: "0xf096ab24c5bd8abd9298cd627f5eef1ee948776d8d11127d8c47da2f0897f2c5"
      input:
        type: string
        format: hex
        example: "0x"
      nonce:
        type: string
        format: hex
        example: "0x21f"
      r:
        type: string
        format: hex
        example: "0x23e819fa3f631c042d20b70f28f8f08ef1a2733061b92c59b43ea0997b6cf834"
      s:
        type: string
        format: hash
        example: "0x1ad76eadafc639103f6ba7bc0b9f839757086669b973e601ab69efda745948e3"
      to:
        type: string
        format: address
        example: "0xcd424c53f5dc7d22cdff536309c24ad87a97e6af"
      transactionIndex:
        type: integer
        example: 84
      v:
        type: string
        format: hex
        example: "0x1c"
      value:
        type: string
        format: hex
        example: "0x26f8fac3b94e7e00"
 
  Block:
    properties:
      difficulty:
       type: integer
       example: 10694243015446
      extraData:
       type: string
       format: hex
       example: "0xd983010302844765746887676f312e342e328777696e646f7773"
      gasLimit:
       type: integer
       example: 3141592
      gasUsed:
       type: integer
       example: 0,
      hash:
       type: string
       format: hex
       example: "0x88a6bc42f4f65a0daab3a810444c2202d301db04d05203a86342b35333ac1413"
      logsBloom:
       type: string
       format: hex
       example: "0x00000000000000000000000000000000000000000000000000000000001"
      miner:
       type: string
       format: hex
       example: "0xf8b483dba2c3b7176a3da549ad41a48bb3121069"
      mixHash:
       type: string
       format: hex
       example: "0x02a775f306082912b617e858fef268597a277de056dbe924ee6aabfa35a33c44"
      nonce:
       type: string
       format: hex
       example: "0x06e36bda48d70f67"
      number:
       type: integer
       example: 900056
      parentHash:
       type: string
       format: hex
       example: "0x9e4f201db6e56a43980881cd09855b99b2f2aeefc84ffb2ad0ccf3f42de6fba2"
      receiptsRoot:
       type: string
       format: hex
       example: "0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421"
      sha3Uncles:
       type: string
       format: hex
       example: "0x2843dd2134eb02067b585e76ce6a7fc89d22d3eae1d38827b1eb15a3b5153347"
      size:
       type: integer
       example: 1081
      stateRoot:
       type: string
       format: hex
       example: "0xc27aca6363fdceaed835753083b4db0bc37fab441e1414b9f051047d37dd025f"
      timestamp:
       type: integer
       example: 1453686776
      totalDifficulty:
       type: integer
       example: 6028818335021882784
      transactions:
       type: array
       items:
        type: string
       example: ["0xc9b1ad2422ac745f91f815f14572cae74c8dd31183430c297ec2c7a902eb52db"]
      transactionsRoot:
       type: string
       format: hex
       example: "0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421"
      uncles:
       type: array
       items:
        type: string
       example: ["0xe0591f521db8d59f0362ad7bb946ecf98fd2d5eaf0a24b6fce378a00db6389d7"]
      staticReward:
        type: string
        format: hex
        example: 0x4563918244f40000
      uncleInclusionReward:
        type: string
        format: hex
        example: 0x0
      txFees:
        type: string
        format: hex
        example: 0x2563918244f40000

  Uncle:
    properties:
      difficulty:
       type: integer
       example: 10694243015446
      extraData:
       type: string
       format: hex
       example: "0xd983010302844765746887676f312e342e328777696e646f7773"
      gasLimit:
       type: integer
       example: 3141592
      gasUsed:
       type: integer
       example: 0,
      hash:
       type: string
       format: hex
       example: "0x88a6bc42f4f65a0daab3a810444c2202d301db04d05203a86342b35333ac1413"
      logsBloom:
       type: string
       format: hex
       example: "0x00000000000000000000000000000000000000000000000000000000001"
      miner:
       type: string
       format: hex
       example: "0xf8b483dba2c3b7176a3da549ad41a48bb3121069"
      mixHash:
       type: string
       format: hex
       example: "0x02a775f306082912b617e858fef268597a277de056dbe924ee6aabfa35a33c44"
      nonce:
       type: string
       format: hex
       example: "0x06e36bda48d70f67"
      number:
       type: integer
       example: 900056
      parentHash:
       type: string
       format: hex
       example: "0x9e4f201db6e56a43980881cd09855b99b2f2aeefc84ffb2ad0ccf3f42de6fba2"
      receiptsRoot:
       type: string
       format: hex
       example: "0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421"
      sha3Uncles:
       type: string
       format: hex
       example: "0x2843dd2134eb02067b585e76ce6a7fc89d22d3eae1d38827b1eb15a3b5153347"
      size:
       type: integer
       example: 1081
      stateRoot:
       type: string
       format: hex
       example: "0xc27aca6363fdceaed835753083b4db0bc37fab441e1414b9f051047d37dd025f"
      timestamp:
       type: integer
       example: 1453686776
      totalDifficulty:
       type: integer
       example: 6028818335021882784
      transactionsRoot:
       type: string
       format: hex
       example: "0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421"
      blockNumber:
       type: integer
       example: 19190
      reward:
        type: string
        format: hex
        example: 0x2563918244f40000

  Receipt:
    properties:
      blockHash:
        type: string
        format: hex
        example: "0xf65ef0910daed64f5bf0effa14c40908395b3df16b64b48a703bb9c7aa61e80f"
      blockNumber:
        type: integer
        example: 900005
      contractAddress:
        type: string
        format: hex
        example: null
      cumulativeGasUsed:
        type: integer
        example: 21000
      from:
        type: string
        format: hex
        example: "0x2a65aca4d5fc5b5c859090a6c34d164135398226"
      gasUsed:
        type: integer
        example: 21000
      logs:
        type: array
        items:
          $ref: '#/definitions/Log'
      logsBloom:
        type: string
        format: hex
        example: "0x000000000000000110000000000"
      root:
        type: string
        format: hex
        example: "0x5b96718cdfdda40c371eee661a8467d2edcbee0fa03aa5b5cb6a84479db3c177"
      to:
        type: string
        format: hex
        example: "0xcd424c53f5dc7d22cdff536309c24ad87a97e6af"
      transactionHash:
        type: string
        format: hex
        example: "0x6825feb84a806d5eb4321250b050d9aa7848d32ea052bb8c7b21d41d33f94ea9"
      transactionIndex:
        type: integer
        example: 0
      status:
        type: integer
        example: 1

  Log:
    properties:
      address:
        type: string
        format: address
        example: "0x47071214d1ef76eeb26e9ac3ec6cc965ab8eb75b"
      blockHash:
        type: string
        format: hex
        example: "0x4c285ba67d33a3cd670f5c4decfb10a41b929e7c4139766abfd60a24ee1fa148"
      blockNumber:
        type: integer
        example: 112887
      data:
        type: string
        format: hex
        example: "0x00000000000000000000000013f26856cbacaaba9c4488a31c72e605fae029fc"
      logIndex:
        type: integer
        example: 0
      removed:
        type: string
        format: hex
        example: false
      topics:
        type: array
        items:
          type: string
        example: ["0x16cdf1707799c6655baac6e210f52b94b7cec08adcaf9ede7dfe8649da926146"]
      transactionHash:
        type: string
        format: hex
        example: "0xcb63b762d9522bbd712b0d8df2208c8a8dbdaeef5d7fdca3cc2dad0f34646790"
      transactionIndex:
        type: integer
        example: 2
        
  Balance:
    properties:
      balance:
        type: string
        format: hex
        example: "0x2563918244f40000"
      address:
        type: string
        format: address
        example: "0xcd424c53f5dc7d22cdff536309c24ad87a97e6af"
        
  Contract:
    properties:
      name:
        type: string      
      address:
        type: string
        format: address
      byteCode:
        type: string
      sourceCode:
        type: string
      abi:
        type: array
        items: {}
      compilerVersion:
        type: string
      optimizationEnabled:
        type: boolean
      optimizationRuns:
        type: integer
      constructorArgs:
        type: array
        items:
          type: string
      verified_at:
        type: string
      token:
        type: string
  
  Token:
    properties:
      contractAddress:
        type: string
        format: address
      name:
        type: string
      symbol:
        type: string
      decimals:
        type: integer
      totalSupply:
        type: number
  
  TokenTransfer:
    properties:
      timestamp:
        type: integer
        example: 1548229016
      transactionHash:
        type: string
        format: hex
        example: "0x3b749628d5c22d5f372d3c40a760eadd153b27a503e57688e66678d32123fb8c"
      from:
        type: string
        format: address
        example: "0xf73c3c65bde10bf26c2e1763104e609a41702efe"
      to:
        type: string
        format: address
        example: "0x355941cf7ac065310fd4023e1b913209f076a48a"
      tokenDecimals:
        type: integer
        example: 18
      tokenSymbol:
        type: string
        example: "JNT"
      tokenName:
        type: string
        example: "Jibrel Network Token"
      tokenAddress:
        type: string
        format: address
        example: "0xa5fd1a791c4dfcaacc963d4f73c6ae5824149ea7"
      amount:
        type: integer
        example: 1664600000000000000000

  TokenHolder:
    properties:
      accountAddress:
        type: string
        format: address
        example: "0xfdbacd53b94c4e76742f66a9f235a5d1e5218bb0"
      tokenAddress:
        type: string
        format: address
        example: "0xa5fd1a791c4dfcaacc963d4f73c6ae5824149ea7"
      balance:
        type: integer
        example: 0
      decimals:
        type: integer
        example: 18

schemes:
 - http


basePath: /